/*!
 * 
 *   probaclick - Do something when someone is probably going to click something.
 *   Author: Alex MacArthur
 *   Version: v1.1.1
 *   URL: https://github.com/alexmacarthur/probaclick#readme
 *   License: MIT
 * 
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ProbaClick=t():e.ProbaClick=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(i,r,function(t){return e[t]}.bind(null,r));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";function i(e,t){for(var n,i=0;i<t.length;i++)(n=t[i]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}n.r(t);var r=function(){function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=n.max,r=n.delay,o=n.callback,u=n.count;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.max=i,this.link=t,this.callback=o,this.triggers={delay:r,count:u},this.hasJustFired=!1,this.totalFireCount=0,this.hoverStart=0,this.timeout=null,this.store={time:0,interactions:0},this.eventHandlers={mouseover:this.handleMouseOver.bind(this),mouseleave:this.handleMouseLeave.bind(this)},this.updateListeners("add")}return function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(e,[{key:"handleMouseOver",value:function(){this.hasJustFired=!1,this.hoverStart=Date.now(),this.store.interactions++,this.maybeFireBasedOnCount()||this.maybeFireBasedOnTime()}},{key:"maybeFireBasedOnCount",value:function(){return null!==this.triggers.count&&!!(this.store.interactions>=this.triggers.count)&&(this.fire(),!0)}},{key:"maybeFireBasedOnTime",value:function(){var e=this;return null!==this.triggers.delay&&(this.timeout=setTimeout(function(){e.fire()},this.triggers.delay-this.store.time),this.timeout)}},{key:"fire",value:function(){this.callback(this.link),this.totalFireCount++,this.resetStore(),this.hasJustFired=!0,null!==this.max&&this.totalFireCount>=this.max&&this.updateListeners("remove")}},{key:"handleMouseLeave",value:function(){clearTimeout(this.timeout),this.hasJustFired||this.updateStoreTime()}},{key:"updateListeners",value:function(e){for(var t in this.eventHandlers)this.link["".concat(e,"EventListener")](t,this.eventHandlers[t])}},{key:"resetStore",value:function(){this.store={time:0,interactions:0}}},{key:"updateStoreTime",value:function(){this.store.time+=Date.now()-this.hoverStart}}]),e}();t.default=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=t.max,i=void 0===n?null:n,o=t.delay,u=void 0===o?500:o,s=t.count,a=void 0===s?null:s,l=t.callback,c=void 0===l?function(){}:l;return(e=function(e){return"string"==typeof e?e=document.querySelectorAll(e):!(e instanceof NodeList)&&(e=[e]),[].slice.call(e)}(e)).length?e.map(function(e){return new r(e,{delay:u,callback:c,max:i,count:a})}):[]}}]).default});